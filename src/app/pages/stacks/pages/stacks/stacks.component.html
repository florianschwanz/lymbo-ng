<app-stacks-toolbar
  *ngIf="media > mediaType.MEDIUM"
  [@toolbarAnimation]="scrollDirection"
  class="fixed"
  [title]="title"
  [media]="media"
  [searchOptions]="searchOptions"
  [filterActive]="filterActive"
  [user]="user"
  (searchItemEventEmitter)="onSearchItemChanged($event)"
  (menuItemEventEmitter)="onMenuItemClicked($event)"></app-stacks-toolbar>

<mat-sidenav-container class="sidenav-container" layout="column">
  <mat-sidenav *ngIf="media > mediaType.MEDIUM" #sidenavStart mode="side"
               position="start" [opened]="sidenavOpened"
               class="sidenav sidenav-start">
    <div [@toolbarAnimation]="scrollDirection">
      <app-tag-list [tags]="tags" [tagsFiltered]="tagsFiltered" [recentCount]="'10'" [media]="media"
                    (tagEventEmitter)="onTagEvent($event)"></app-tag-list>
    </div>
  </mat-sidenav>

  <mat-sidenav *ngIf="media < mediaType.LARGE" #sidenavStart mode="over"
               position="start" [opened]="sidenavOpened"
               class="sidenav sidenav-start">
    <div [@toolbarAnimation]="scrollDirection">
      <div class="toolbar-wrapper">
        <div class="toolbar-block start">
          <button mat-button class="toolbar-menu-item" (click)="onMenuItemClicked('menu')">
            <mat-icon svgIcon="arrow_back" class="icon"></mat-icon>BACK
          </button>
          <span *ngIf="media != mediaType.SMALL" class="toolbar-title">{{ title }}</span>
        </div>
      </div>
      <app-tag-list [tags]="tags" [tagsFiltered]="tagsFiltered" [recentCount]="'10'" [media]="media"
                    (tagEventEmitter)="onTagEvent($event)"></app-tag-list>
    </div>
  </mat-sidenav>

  <mat-sidenav-content cdkScrollable>
    <app-stacks-toolbar
      *ngIf="media < mediaType.LARGE"
      [@toolbarAnimation]="scrollDirection"
      class="fixed"
      [title]="title"
      [media]="media"
      [searchOptions]="searchOptions"
      [filterActive]="filterActive"
      [user]="user"
      (searchItemEventEmitter)="onSearchItemChanged($event)"
      (menuItemEventEmitter)="onMenuItemClicked($event)"></app-stacks-toolbar>
    <div class="card-main-content">
      <app-stack-fragment *ngFor="let s of stacks" [stack]="s" [tags]="tags"
                          (stackEventEmitter)="onStackEvent($event)">
      </app-stack-fragment>
    </div>
  </mat-sidenav-content>

</mat-sidenav-container>

<button mat-fab class="fab" (click)="onAddStackClicked()">
  <mat-icon svgIcon="add" class="icon-accent-contrast"></mat-icon>
</button>
